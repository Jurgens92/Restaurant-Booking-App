{% extends 'base.html' %}

{% block title %}Cancel Booking - La Dolce Vita{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-6 offset-md-3">
        <h1 class="mb-4">Cancel Booking</h1>
        
        <div class="alert alert-warning">
            <p>Are you sure you want to cancel your booking for {{ booking.booking_date }} at {{ booking.booking_time }}?</p>
        </div>
        
        <form method="post">
            {% csrf_token %}
            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-danger">Yes, Cancel Booking</button>
                <a href="{% url 'my_bookings' %}" class="btn btn-secondary">No, Go Back</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const cancelForm = document.querySelector('form');
    const submitButton = document.querySelector('button[type="submit"]');
    
    submitButton.addEventListener('click', function(event) {
        event.preventDefault();
        
        if (confirm('Are you sure you want to cancel this booking? This action cannot be undone.')) {
            cancelForm.submit();
        }
    });
});
</script>
{% endblock %}